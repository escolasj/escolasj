<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Portal Escolar</title>
  <style>
    :root {
      --bg: #121212;
      --text: #fff;
      --card-bg-opacity: 0.65;
      --shadow: rgba(0,0,0,0.5);
    }
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: var(--bg);
      color: var(--text);
      transition: background 0.3s, color 0.3s;
    }
    .menu-btn, .dark-mode-toggle {
      font-size: 1.5rem;
      padding: 10px;
      cursor: pointer;
      background: rgba(30,30,30,0.8);
      border: none;
      color: var(--text);
      position: fixed;
      z-index: 1000;
      border-radius: 8px;
      box-shadow: 0 2px 5px var(--shadow);
      user-select: none;
    }
    .menu-btn { top: 10px; left: 10px; }
    .dark-mode-toggle { top: 10px; right: 10px; }
    .sidebar {
      width: 280px;
      background: #003c4d;
      height: 100%;
      position: fixed;
      top: 0;
      left: -280px;
      transition: 0.3s ease-in-out;
      box-shadow: 2px 0 10px var(--shadow);
      z-index: 999;
      padding-top: 60px;
    }
    .sidebar.active { left: 0; }
    .sidebar .close-btn {
      position: absolute;
      top: 15px;
      right: 15px;
      font-size: 2rem;
      color: white;
      cursor: pointer;
      user-select: none;
    }
    .sidebar h3 {
      text-align: center;
      margin-bottom: 20px;
      color: #fff;
      user-select: none;
    }
    .sidebar ul {
      list-style: none;
      padding: 0;
    }
    .sidebar ul li {
      padding: 15px 20px;
      color: white;
      cursor: pointer;
      border-bottom: 1px solid rgba(255,255,255,0.1);
      transition: background 0.2s;
      user-select: none;
    }
    .sidebar ul li:hover {
      background-color: rgba(255, 255, 255, 0.1);
    }
    .content {
      margin: 80px 20px 20px 20px;
      max-width: 900px;
      transition: 0.3s;
    }
    h2 {
      margin-bottom: 20px;
      font-size: 1.8rem;
      user-select: none;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    h2 span.emoji {
      font-size: 2.2rem;
    }
    .admin-login, .admin-panel {
      max-width: 900px;
      margin: 20px auto;
      padding: 20px;
      background: rgba(30,30,30,0.8);
      border-radius: 12px;
      box-shadow: 0 2px 10px var(--shadow);
    }
    .admin-login input, .admin-panel textarea {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      background: #2a2a2a;
      color: white;
      border: 1px solid #555;
      border-radius: 6px;
      font-size: 1rem;
      font-family: monospace;
      resize: vertical;
    }
    button {
      background: #4caf50;
      color: white;
      border: none;
      padding: 10px 15px;
      margin-top: 10px;
      cursor: pointer;
      border-radius: 6px;
      font-weight: bold;
      transition: background-color 0.2s;
    }
    button:hover {
      background-color: #43a047;
    }
    .card {
      position: relative;
      padding: 15px 20px 15px 60px;
      border-radius: 12px;
      margin-bottom: 20px;
      color: white;
      box-shadow: 0 4px 10px var(--shadow);
      overflow: hidden;
      cursor: default;
      user-select: text;
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.4s forwards;
    }
    .card::before {
      content: '';
      position: absolute;
      top:0; left:0; right:0; bottom:0;
      background-color: rgba(0,0,0,var(--card-bg-opacity));
      border-radius: 12px;
      z-index: 0;
    }
    .card i {
      position: absolute;
      left: 18px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 2.2rem;
      z-index: 1;
      opacity: 0.85;
    }
    .card span {
      position: relative;
      z-index: 1;
      font-size: 1.1rem;
      line-height: 1.4;
      white-space: pre-wrap;
    }
    /* Backgrounds */
    .card.cardapio {
      background: url('https://images.unsplash.com/photo-1600891964599-f61ba0e24092?auto=format&fit=crop&w=800&q=60') center/cover no-repeat;
      --card-bg-opacity: 0.65;
    }
    .card.clubes {
      background: url('https://images.unsplash.com/photo-1505842465776-2d15b8d264c4?auto=format&fit=crop&w=800&q=60') center/cover no-repeat;
      --card-bg-opacity: 0.5;
    }
    .card.enem {
      background: url('https://images.unsplash.com/photo-1503676260728-1c00da094a0b?auto=format&fit=crop&w=800&q=60') center/cover no-repeat;
      --card-bg-opacity: 0.6;
    }
    .card.provas {
      background: url('https://images.unsplash.com/photo-1519389950473-47ba0277781c?auto=format&fit=crop&w=800&q=60') center/cover no-repeat;
      --card-bg-opacity: 0.6;
    }
    .card.motivacional {
      background: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=800&q=60') center/cover no-repeat;
      --card-bg-opacity: 0.55;
    }
    .card.noticias {
      background: url('https://images.unsplash.com/photo-1515165562835-cb8fc79d799b?auto=format&fit=crop&w=800&q=60') center/cover no-repeat;
      --card-bg-opacity: 0.55;
    }
    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    @media (max-width: 768px) {
      .content, .admin-login, .admin-panel {
        margin: 100px 10px 20px;
        padding: 15px;
      }
      .sidebar {
        width: 100%;
        left: -100%;
      }
      .sidebar.active {
        left: 0;
      }
    }
  </style>
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body>
<button class="menu-btn" onclick="toggleSidebar()">‚ò∞</button>
<button class="dark-mode-toggle" onclick="toggleDarkMode()">üåô</button>

<div class="sidebar" id="sidebar">
  <div class="close-btn" onclick="toggleSidebar()">√ó</div>
  <h3>Portal Escolar</h3>
  <ul>
    <li onclick="showContent('cardapio')">üçΩÔ∏è Card√°pio da Semana</li>
    <li onclick="showContent('clubes')">‚öΩ Not√≠cias de Clubes</li>
    <li onclick="showContent('enem')">üìö Dicas do ENEM</li>
    <li onclick="showContent('provas')">üìù Dias de Provas</li>
    <li onclick="showContent('motivacional')">üí° Mensagem Motivacional</li>
    <li onclick="showContent('noticias')">üì∞ Not√≠cias da Semana</li>
    <li onclick="toggleAdminLogin()">üîí Painel Admin</li>
  </ul>
</div>

<div class="content" id="mainContent"></div>

<div class="admin-login" id="adminLogin" style="display:none;">
  <h3>Login Admin</h3>
  <input type="password" id="adminPassword" placeholder="Digite a senha 'admin1234'" />
  <button onclick="checkAdmin()">Entrar</button>
</div>

<div class="admin-panel" id="adminPanel" style="display:none;">
  <h3>Modo Admin</h3>
  <textarea id="adminEdit" placeholder="Digite uma linha por card (ENTER separa os cards)"></textarea><br />
  <button onclick="salvarEdicao()">Salvar Edi√ß√£o</button>
  <button onclick="apagarConteudo()">Apagar Conte√∫do</button>
</div>

<script>
  let currentSection = "";

  const sectionTitles = {
    cardapio: { emoji: "üçΩÔ∏è", text: "Card√°pio da Semana" },
    clubes: { emoji: "‚öΩ", text: "Not√≠cias de Clubes" },
    enem: { emoji: "üìö", text: "Dicas do ENEM" },
    provas: { emoji: "üìù", text: "Dias de Provas" },
    motivacional: { emoji: "üí°", text: "Mensagem Motivacional" },
    noticias: { emoji: "üì∞", text: "Not√≠cias da Semana" },
  };

  const icons = {
    cardapio: "fa-utensils",
    clubes: "fa-futbol",
    enem: "fa-lightbulb",
    provas: "fa-pen",
    motivacional: "fa-heart",
    noticias: "fa-newspaper",
  };

  function toggleSidebar() {
    document.getElementById("sidebar").classList.toggle("active");
  }

  function showContent(section) {
    currentSection = section;
    const { emoji, text } = sectionTitles[section] || { emoji: "", text: "Se√ß√£o" };
    const content = localStorage.getItem(section) || "";
    const cards = content.split("\n").filter((line) => line.trim() !== "");

    let html = `<h2><span class="emoji">${emoji}</span> ${text}</h2>`;
    cards.forEach((cardText) => {
      html += `<div class="card ${section}">
        <i class="fas ${icons[section]}"></i>
        <span>${escapeHtml(cardText)}</span>
      </div>`;
    });

    if (!cards.length) {
      html += `<p>Nenhum conte√∫do dispon√≠vel.</p>`;
    }

    document.getElementById("mainContent").innerHTML = html;
    document.getElementById("adminPanel").style.display = "none";
    document.getElementById("adminLogin").style.display = "none";
    toggleSidebar();
  }

  function toggleAdminLogin() {
    if (!currentSection) {
      alert("Selecione uma se√ß√£o antes de entrar no modo admin.");
      return;
    }
    document.getElementById("adminLogin").style.display = "block";
  }

  function checkAdmin() {
    const pass = document.getElementById("adminPassword").value;
    if (pass === "admin1234") {
      document.getElementById("adminPanel").style.display = "block";
      document.getElementById("adminLogin").style.display = "none";
      document.getElementById("adminPassword").value = "";
      const content = localStorage.getItem(currentSection) || "";
      document.getElementById("adminEdit").value = content;
    } else {
      alert("Senha incorreta");
    }
  }

  function salvarEdicao() {
    const text = document.getElementById("adminEdit").value.trim();
    if (currentSection) {
      localStorage.setItem(currentSection, text);
      showContent(currentSection);
      alert("Conte√∫do salvo com sucesso!");
    }
  }

  function apagarConteudo() {
    if (currentSection) {
      localStorage.removeItem(currentSection);
      showContent(currentSection);
      alert("Conte√∫do apagado.");
    }
  }

  function setTheme(mode) {
    const root = document.documentElement;
    if (mode === "light") {
      root.style.setProperty("--bg", "#f4f4f4");
      root.style.setProperty("--text", "#000");
      root.style.setProperty("--card-bg-opacity", "0.85");
      localStorage.setItem("theme", "light");
    } else {
      root.style.setProperty("--bg", "#121212");
      root.style.setProperty("--text", "#fff");
      root.style.setProperty("--card-bg-opacity", "0.65");
      localStorage.setItem("theme", "dark");
    }
  }

  function toggleDarkMode() {
    const currentBg = getComputedStyle(document.documentElement).getPropertyValue("--bg").trim();
    if (currentBg === "#121212") {
      setTheme("light");
    } else {
      setTheme("dark");
    }
  }

  function escapeHtml(text) {
    return text.replace(/[&<>"']/g, function (m) {
      return {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#39;",
      }[m];
    });
  }

  window.onload = () => {
    const savedTheme = localStorage.getItem("theme");
    if (savedTheme) {
      setTheme(savedTheme);
    }
    showContent("noticias");
  };
</script>
</body>
</html>
